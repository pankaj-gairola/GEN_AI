pip install langchain-community langchain crewai langchain-openai langchain-core langchain-google-vertexai langchain_mistralai


pip install duckduckgo-search langchain_google_genai



import os
from crewai import Agent, Task, Crew, Process
from langchain_mistralai.chat_models import ChatMistralAI
from langchain_google_genai import ChatGoogleGenerativeAI
from langchain_openai import AzureChatOpenAI
from langchain.tools import DuckDuckGoSearchRun
search_tool = DuckDuckGoSearchRun()

mistral_api_key = os.environ.get("MISTRAL_API_KEY")
llm_mistral = ChatMistralAI(mistral_api_key=mistral_api_key, model="mistral-medium")
#llm_vertex = VertexAI(model_name="gemini-pro")
llm = ChatGoogleGenerativeAI(model="gemini-pro",
                             verbose = True,
                             temperature = 0.5,
                             google_api_key="AIzaSyC3hTtOudKBAlTxHAxZo08gJVIsHMs9Yqk")
# Create Agents
coach = Agent(
    role='prompt engineer',
    goal="write a prompt which csn help in writing a code",
    backstory="You're an Highly  expert in writing a good prompt based on input ",
    verbose=True,
    allow_delegation=False,
    tools=[search_tool],
    llm=llm
)

influencer = Agent(
    role='Architect',
    goal="Write a High level design by which anyone can write code",
    backstory="You're a specialised software architecture who can design high level diagram based on prompt given",
    verbose=True,
    allow_delegation=True,
    llm=llm
)

critic = Agent(
    role='Developer',
    goal="write a python optimised code based on high level design",
    backstory="You're highly skilled python developer who can write python code based on high level design. He also check that there should not be any issue in code.code should run fine",
    verbose=True,
    allow_delegation=True,
    llm=llm
)

# Create Tasks
task_search = Task(
    description="python program to analyse banknifty option chain data",
    agent=coach
)

task_post = Task(
    description="Create a high level design to analyse BANKNIFTY option chain data",
    agent=influencer
)

task_critique = Task(
    description="write optimised python code which do good analysis for trader ",
    agent=critic
)

# Create Crew
crew = Crew(
    agents=[coach, influencer, critic],
    tasks=[task_search, task_post, task_critique],
    verbose=2,
    process=Process.sequential
)

# Get your crew to work!
result = crew.kickoff()

print("#############")
print(result)

